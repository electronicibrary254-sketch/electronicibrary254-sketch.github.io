<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Julisha Library - Free Revision Papers</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="navbar">
        <div class="container">
            <div class="logo">
                <h1>üìö Julisha Library</h1>
                <p class="tagline">Free Revision Papers &amp; Study Materials</p>
            </div>
            <div class="nav-search">
                <input type="search" id="navSearchInput" placeholder="Search papers..." aria-label="Search papers">
                <button class="nav-clear" id="navClearBtn" title="Clear search">‚úñ</button>
            </div>
            <nav class="nav-links">
                <a href="#home" class="active">Home</a>
                <a href="#featured">Featured</a>
                <a href="#papers">Papers</a>
                <a href="#subjects">Subjects</a>
                <a href="#about">About</a>
                <button class="dark-mode-btn" onclick="toggleDarkMode()" title="Toggle Dark Mode">üåô</button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Welcome to Julisha Library</h1>
            <p>Your free resource for revision papers and study materials</p>
            <button class="btn-primary" onclick="document.getElementById('papers').scrollIntoView({behavior: 'smooth'})">Browse Papers</button>
        </div>
    </section>

    <!-- Featured Papers Section -->
    <section class="featured-section" id="featured">
        <div class="container">
            <button class="section-toggle" onclick="toggleSection('featuredContent')">
                <span>‚≠ê Featured Papers</span>
                <span class="toggle-icon">‚ñº</span>
            </button>
            <div class="papers-grid" id="featuredContent">
                <!-- Featured papers will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Trending Section -->
    <section class="trending-section">
        <div class="container">
            <button class="section-toggle" onclick="toggleSection('trendingContent')">
                <span>üî• Trending This Week</span>
                <span class="toggle-icon">‚ñº</span>
            </button>
            <div class="papers-grid" id="trendingContent">
                <!-- Trending papers will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Search & Filter Section -->
    <section class="search-section">
        <div class="container">
            <h2>Find Your Study Materials</h2>
            <div class="search-bar">
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="Search papers by title or topic..." 
                    onkeyup="filterPapers(); showSearchSuggestions()"
                    list="searchSuggestions"
                >
                <datalist id="searchSuggestions"></datalist>
                <button onclick="filterPapers()" class="search-btn">üîç Search</button>
            </div>

            <!-- Search History -->
            <div class="search-history" id="searchHistory" style="display: none;">
                <p><strong>Recent searches:</strong></p>
                <div id="historyList"></div>
            </div>

            <!-- Batch Download Section -->
            <div class="batch-download-section">
                <button class="select-all-btn" onclick="toggleSelectAll()">‚òëÔ∏è Select All</button>
                <span id="selectedCount">0 papers selected</span>
                <button class="batch-download-btn" id="batchDownloadBtn" onclick="batchDownloadPapers()" style="display: none;">üì¶ Download Selected</button>
            </div>
            
            <div class="sort-options">
                <span>Sort by:</span>
                <button class="sort-btn" onclick="sortByDownloads()">üì• Most Downloaded</button>
                <button class="sort-btn" onclick="sortByRating()">‚≠ê Highest Rated</button>
                <button class="sort-btn" onclick="sortByNewest()">üìÖ Newest First</button>
                <button class="sort-btn" onclick="sortByTitle()">A-Z Title</button>
            </div>

            <!-- Collapsible Filters -->
            <div class="collapsible-filters">
                <!-- Grade/Form Filter -->
                <div class="filter-group">
                    <button class="filter-toggle" onclick="toggleFilter('level-filter')">
                        <span>üìö Filter by Grade/Form</span>
                        <span class="toggle-icon">‚ñº</span>
                    </button>
                    <div class="filter-content" id="level-filter">
                        <div class="level-filters">
                            <button class="level-tag" onclick="filterByLevel('All')">All</button>
                            <button class="level-tag" onclick="filterByLevel('Grade 9')">Grade 9</button>
                            <button class="level-tag" onclick="filterByLevel('Grade 10')">Grade 10</button>
                            <button class="level-tag" onclick="filterByLevel('Grade 11')">Grade 11</button>
                            <button class="level-tag" onclick="filterByLevel('Grade 12')">Grade 12</button>
                            <button class="level-tag" onclick="filterByLevel('Form 1')">Form 1</button>
                            <button class="level-tag" onclick="filterByLevel('Form 2')">Form 2</button>
                            <button class="level-tag" onclick="filterByLevel('Form 3')">Form 3</button>
                            <button class="level-tag" onclick="filterByLevel('Form 4')">Form 4</button>
                        </div>
                    </div>
                </div>

                <!-- Subject Filter -->
                <div class="filter-group">
                    <button class="filter-toggle" onclick="toggleFilter('subject-filter')">
                        <span>üî¨ Filter by Subject</span>
                        <span class="toggle-icon">‚ñº</span>
                    </button>
                    <div class="filter-content" id="subject-filter">
                        <div class="filter-tags">
                            <button class="tag" onclick="filterBySubject('All')">All</button>
                            <button class="tag" onclick="filterBySubject('Mathematics')">Mathematics</button>
                            <button class="tag" onclick="filterBySubject('Physics')">Physics</button>
                            <button class="tag" onclick="filterBySubject('Chemistry')">Chemistry</button>
                            <button class="tag" onclick="filterBySubject('Biology')">Biology</button>
                            <button class="tag" onclick="filterBySubject('English')">English</button>
                            <button class="tag" onclick="filterBySubject('History')">History</button>
                            <button class="tag" onclick="filterBySubject('Geography')">Geography</button>
                            <button class="tag" onclick="filterBySubject('Kiswahili')">Kiswahili</button>
                        </div>
                    </div>
                </div>

                <!-- Advanced Filters -->
                <div class="filter-group">
                    <button class="filter-toggle" onclick="toggleFilter('advanced-filter')">
                        <span>‚öôÔ∏è Advanced Filters</span>
                        <span class="toggle-icon">‚ñº</span>
                    </button>
                    <div class="filter-content" id="advanced-filter">
                        <div class="advanced-filters">
                            <div class="filter-input-group">
                                <label>Rating (minimum):</label>
                                <select id="ratingFilter" onchange="applyAdvancedFilters()">
                                    <option value="">All Ratings</option>
                                    <option value="4.5">4.5+ ‚≠ê</option>
                                    <option value="4.7">4.7+ ‚≠ê‚≠ê</option>
                                    <option value="4.9">4.9+ ‚≠ê‚≠ê‚≠ê</option>
                                </select>
                            </div>
                            <div class="filter-input-group">
                                <label>Year:</label>
                                <select id="yearFilter" onchange="applyAdvancedFilters()">
                                    <option value="">Any Year</option>
                                    <option value="2026">2026</option>
                                    <option value="2025">2025</option>
                                </select>
                            </div>
                            <div class="filter-input-group">
                                <label>Difficulty:</label>
                                <select id="difficultyFilter" onchange="applyAdvancedFilters()">
                                    <option value="">Any Difficulty</option>
                                    <option value="Easy">Easy</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Hard">Hard</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Papers Grid Section -->
    <section class="papers-section" id="papers">
        <div class="container">
            <h2>Available Papers</h2>
            <div class="papers-grid" id="papersGrid">
                <!-- Papers will be dynamically loaded here -->
            </div>
        </div>
    </section>

    <!-- Related Papers Modal -->
    <div id="relatedPapersModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal" onclick="closeRelatedPapers()">&times;</span>
            <h3>Related Papers</h3>
            <div id="relatedPapersList" class="related-papers-list"></div>
        </div>
    </div>

    <!-- Preview Modal -->
    <div id="previewModal" class="modal" style="display: none;">
        <div class="modal-content preview-modal-content">
            <span class="close-modal" onclick="closePreview()">&times;</span>
            <div class="preview-header">
                <h3 id="previewTitle"></h3>
                <div class="preview-meta">
                    <span id="previewAuthor"></span>
                    <span id="previewYear"></span>
                    <span id="previewPages"></span>
                </div>
            </div>
            <div class="preview-body">
                <div class="preview-description" id="previewDescription"></div>
                <div class="preview-stats">
                    <span>‚≠ê Rating: <span id="previewRating"></span></span>
                    <span>üì• Downloads: <span id="previewDownloads"></span></span>
                </div>
                <div class="difficulty-section">
                    <p>Is this paper too hard, too easy, or just right?</p>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn easy" onclick="voteDifficulty('Easy')">‚úì Too Easy</button>
                        <button class="difficulty-btn medium" onclick="voteDifficulty('Medium')">= Just Right</button>
                        <button class="difficulty-btn hard" onclick="voteDifficulty('Hard')">‚úó Too Hard</button>
                    </div>
                    <div id="difficultyFeedback" style="margin-top: 1rem; display: none;"></div>
                </div>
                <!-- PDF Viewer Section -->
                <div class="pdf-viewer-section" id="pdfViewerSection" style="display: none;">
                    <h4>üìÑ Preview</h4>
                    <div class="pdf-controls">
                        <button onclick="previousPage()" class="pdf-btn">‚óÄ Previous</button>
                        <span id="pageInfo">Page <span id="currentPage">1</span> of <span id="totalPages">0</span></span>
                        <button onclick="nextPage()" class="pdf-btn">Next ‚ñ∂</button>
                    </div>
                    <div class="pdf-canvas-wrapper">
                        <canvas id="pdfCanvas"></canvas>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn-primary" id="previewDownloadBtn" onclick="downloadPreviewedPaper()">
                        üì• Download PDF
                    </button>
                    <button class="btn-secondary" id="viewFullPreviewBtn" onclick="viewFullPDF()" style="display: none;">
                        üîç View Full PDF
                    </button>
                </div>
            </div>
            <div class="social-share">
                <p>Share this paper:</p>
                <button onclick="sharePaperLink()" class="share-btn">üîó Copy Link</button>
                <button onclick="shareViaEmail()" class="share-btn">üìß Share via Email</button>
            </div>
        </div>
    </div>

    <!-- Subjects Section -->
    <section class="subjects-section" id="subjects">
        <div class="container">
            <button class="section-toggle" onclick="toggleSection('subjectsContent')">
                <span>Browse by Subject</span>
                <span class="toggle-icon">‚ñº</span>
            </button>
            <div class="subjects-grid" id="subjectsContent">
                <div class="subject-card" onclick="filterBySubject('Mathematics')">
                    <h3>üìê Mathematics</h3>
                    <p>Algebra, Geometry, Calculus &amp; more</p>
                </div>
                <div class="subject-card" onclick="filterBySubject('Physics')">
                    <h3>‚öõÔ∏è Physics</h3>
                    <p>Mechanics, Thermodynamics &amp; Waves</p>
                </div>
                <div class="subject-card" onclick="filterBySubject('Chemistry')">
                    <h3>üß™ Chemistry</h3>
                    <p>Organic, Inorganic &amp; Physical Chemistry</p>
                </div>
                <div class="subject-card" onclick="filterBySubject('Biology')">
                    <h3>ü¶† Biology</h3>
                    <p>Cells, Genetics &amp; Evolution</p>
                </div>
                <div class="subject-card" onclick="filterBySubject('English')">
                    <h3>üìñ English</h3>
                    <p>Literature, Grammar &amp; Composition</p>
                </div>
                <div class="subject-card" onclick="filterBySubject('History')">
                    <h3>üèõÔ∏è History</h3>
                    <p>World History &amp; Civilization</p>
                </div>
                <div class="subject-card" onclick="filterBySubject('Kiswahili')">
                    <h3>üìö Kiswahili</h3>
                    <p>Language, Literature &amp; Grammar</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="container">
            <button class="section-toggle" onclick="toggleSection('aboutContent')">
                <span>About Julisha Library</span>
                <span class="toggle-icon">‚ñº</span>
            </button>
            <div id="aboutContent">
                <p>Julisha Library is a free, open-source platform dedicated to providing high-quality revision papers and study materials to students worldwide. Our mission is to make quality education resources accessible to everyone, regardless of their economic background.</p>
                <div class="features">
                <div class="feature">
                    <h3>100% Free</h3>
                    <p>All materials are completely free to access and download</p>
                </div>
                <div class="feature">
                    <h3>High Quality</h3>
                    <p>Curated papers from experienced educators</p>
                </div>
                <div class="feature">
                    <h3>Always Updated</h3>
                    <p>New materials added regularly</p>
                </div>
            </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section">
        <div class="container">
            <button class="section-toggle" onclick="toggleSection('contactContent')">
                <span>Contact &amp; Support</span>
                <span class="toggle-icon">‚ñº</span>
            </button>
            <div id="contactContent">
                <form id="contactForm" class="contact-form">
                    <div class="form-group">
                        <label for="contactName">Name *</label>
                        <input type="text" id="contactName" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="contactEmail">Email *</label>
                        <input type="email" id="contactEmail" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="contactSubject">Subject *</label>
                        <select id="contactSubject" name="subject" required>
                            <option value="">Select a subject</option>
                            <option value="bug">Report a Bug</option>
                            <option value="feature">Feature Request</option>
                            <option value="contribute">Want to Contribute</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="contactMessage">Message *</label>
                        <textarea id="contactMessage" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Send Message</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
        <div class="container">
            <button class="section-toggle" onclick="toggleSection('newsletterContent')">
                <span>üì¨ Get Updates</span>
                <span class="toggle-icon">‚ñº</span>
            </button>
            <div id="newsletterContent">
                <p>Subscribe to get notified when new papers are added</p>
                <form id="newsletterForm" class="newsletter-form">
                <input 
                    type="email" 
                    id="newsletterEmail" 
                    placeholder="Enter your email..." 
                    required
                >
                <button type="submit" class="btn-primary">Subscribe</button>
            </form>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Julisha Library. Project by Emmanuel Muathe &amp; Marks Ndwati. All rights reserved.</p>
            <p>   All revision papers are property of respective authors<a href="https://github.com/electronicibrary254-sketch/Julisha-Library/">contribute on GitHub</a></p>
        </div>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>
